<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="viewport"
  content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover, standalone">

<title>ACE in Action</title>
<style type="text/css" media="screen">
    #editor {
        position: absolute;
        top: 0;
        height: 100%;
        width : 100%;
    }
</style>

</head>
<body>

<div>
  <button type="button" name="button" onclick="get_script()">Copy Data</button>
  <div id="editor" style="margin-top:40px;">function foo(items)</div>
</div>

<script src="ace-builds/src-noconflict/ace.js" type="text/javascript" charset="utf-8"></script>
<script src="ace-builds/src-noconflict/ext-language_tools.js"></script>
<script>
    document.getElementById('editor').style.fontSize='1.5em';
    var textarea  = ""
    var langTools = ace.require("ace/ext/language_tools");
    var editor    = ace.edit("editor");
    editor.setTheme("ace/theme/monokai");
    editor.getSession().setMode("ace/mode/javascript");
    //editor.session.setMode("ace/mode/javascript");
    editor.setOptions({enableLiveAutocompletion: true});
    editor.getSession().on('change', function () {
        textarea = editor.getSession().getValue();
    });

    textarea = editor.getSession().getValue();
    function get_script(){
        console.log( textarea );
    }
</script>
</body>
</html>
